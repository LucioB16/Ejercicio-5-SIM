<Window x:Class="SimulacionRosasWPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Simulación Monte Carlo – Rosas"
        Height="600" Width="800">
  <Grid Margin="10">
    <Grid.RowDefinitions>
      <!-- Parámetros / Política -->
      <RowDefinition Height="Auto"/>
      <!-- Distribuciones editables -->
      <RowDefinition Height="*"/>
      <!-- Botón Calcular -->
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- FILA 0: Parámetros y política -->
    <Grid Grid.Row="0" Margin="0,0,0,10">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="3*"/>
        <ColumnDefinition Width="2*"/>
      </Grid.ColumnDefinitions>

      <!-- Parámetros: 9 pares, en UniformGrid de 4 columnas para alinear label+input -->
      <UniformGrid Grid.Column="0" Columns="4" Margin="0,0,10,0">
        <TextBlock Text="Días a simular:"/>
        <TextBox x:Name="txtDias" Text="30" Margin="2"/>
        
        <TextBlock Text="Desde día (mostrar):"/>
        <TextBox x:Name="txtDesde" Text="1" Margin="2"/>

        <TextBlock Text="Hasta día (mostrar):"/>
        <TextBox x:Name="txtHasta" Text="30" Margin="2"/>
        
        <TextBlock Text="Semilla RNG:"/>
        <TextBox x:Name="txtSemilla" Text="" Margin="2" />

        <TextBlock Text="Compra inicial (docenas):"/>
        <TextBox x:Name="txtCompraInicial" Text="12" Margin="2"/>

        <TextBlock Text="Precio por rosa ($):"/>
        <TextBox x:Name="txtPrecio" Text="1" Margin="2"/>

        <TextBlock Text="Costo por docena ($):"/>
        <TextBox x:Name="txtCostoDocena" Text="9" Margin="2"/>

        <TextBlock Text="Ingreso salvamento (rosa) ($):"/>
        <TextBox x:Name="txtSalvamento" Text="0,09" Margin="2"/>

        <TextBlock x:Name="lblPenalizacion" Text="Penalización rosa faltante ($):"/>
        <TextBox x:Name="txtPenalizacion" Text="0,1" Margin="2"/>

        <TextBlock x:Name="lblCostoExtra" Text="Costo extra por docena faltante ($):"/>
        <TextBox x:Name="txtCostoExtra" Text="16" Margin="2"/>

        <TextBlock Text="P(soleado):"/>
        <TextBox x:Name="txtProbSoleado" Text="0,67" Margin="2"/>

        <TextBlock Text="P(nublado/lluvia):"/>
        <TextBox x:Name="txtProbNublado" Text="0,33" Margin="2"/>
      </UniformGrid>

      <!-- Política -->
      <StackPanel Grid.Column="1" VerticalAlignment="Top">
        <TextBlock Text="Política:" Margin="0,0,0,5"/>
        <ComboBox x:Name="cmbPolitica" SelectedIndex="0" SelectionChanged="Politica_SelectionChanged" Margin="0,0,0,2">
          <ComboBoxItem>Compra fija</ComboBoxItem>
          <ComboBoxItem>Demanda día anterior</ComboBoxItem>
          <ComboBoxItem>Demanda anterior + compra faltante</ComboBoxItem>
        </ComboBox>
      </StackPanel>
    </Grid>

    <!-- FILA 1: Dos DataGrids uno al lado del otro -->
    <Grid Grid.Row="1">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>

      <!-- Demanda Soleado -->
      <GroupBox Header="Demanda (docenas) – Soleado" Grid.Column="0" Margin="0,0,5,0">
        <DataGrid ItemsSource="{Binding DistDemandaSoleado}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="True">
          <DataGrid.Columns>
            <DataGridTextColumn 
              Header="Docenas"
              Binding="{Binding Docenas, Mode=TwoWay}"/>
            <DataGridTextColumn 
              Header="Probabilidad"
              Binding="{Binding Probabilidad,
                            Mode=TwoWay,
                            UpdateSourceTrigger=PropertyChanged,
                            ConverterCulture=es-AR,
                            StringFormat=N2}"/>
          </DataGrid.Columns>
        </DataGrid>
      </GroupBox>

      <!-- Demanda Nublado/Lluvia -->
      <GroupBox Header="Demanda (docenas) – Nublado/Lluvia" Grid.Column="1" Margin="5,0,0,0">
        <DataGrid ItemsSource="{Binding DistDemandaNublado}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="True">
          <DataGrid.Columns>
            <DataGridTextColumn 
              Header="Docenas"
              Binding="{Binding Docenas, Mode=TwoWay}"/>
            <DataGridTextColumn 
              Header="Probabilidad"
              Binding="{Binding Probabilidad,
                            Mode=TwoWay,
                            UpdateSourceTrigger=PropertyChanged,
                            ConverterCulture=es-AR,
                            StringFormat=N2}"/>
          </DataGrid.Columns>
        </DataGrid>
      </GroupBox>
    </Grid>

    <!-- FILA 2: Botón Calcular -->
    <StackPanel Grid.Row="2"
                Orientation="Horizontal"
                HorizontalAlignment="Right"
                Margin="0,10,0,0">
      <Button Content="Calcular"
              Width="120"
              Click="AlClicCalcular"/>
    </StackPanel>
  </Grid>
</Window>
